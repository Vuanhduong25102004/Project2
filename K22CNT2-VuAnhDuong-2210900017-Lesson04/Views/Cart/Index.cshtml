@model List<K22CNT2_VuAnhDuong_2210900017_.ModelViews.CartItem>

<h2>Giỏ hàng của bạn</h2>

<div class="row">
    <form action="@Url.Action("UpdateCart", "Cart")" method="post">
        <table class="table">
            <tr>
                <th>Hình ảnh</th>
                <th>Sản phẩm</th>
                <th>Đơn giá</th>
                <th>Số lượng</th>
                <th>Thành tiền</th>
                <th>Chức năng</th>
            </tr>
            @for (int i = 0; i < Model.Count; i++)
            {
                <tr>
                    <td><img src="@Url.Content("~/Content/images/AnhSP/" + Model[i].Image)" alt="Product Image" width="60" height="60" /></td>
                    <td>@Model[i].Name</td>
                    <td>@Model[i].Price.ToString("C", new System.Globalization.CultureInfo("vi-VN"))</td>
                    <td>
                        <input type="number" name="updatedItems[@i].Qty" value="@Model[i].Qty" min="0" />
                        <input type="hidden" name="updatedItems[@i].Id" value="@Model[i].Id" />

                    </td>
                    <td>@Model[i].Total.ToString("C", new System.Globalization.CultureInfo("vi-VN"))</td>
                    <td>
                        <button type="submit" class="btn btn-primary btn-sm">Cập nhật</button>
                        @Html.ActionLink("Xóa", "RemoveFromCart", new { id = Model[i].Id }, new { @class = "btn btn-danger" })
                    </td>
                </tr>
            }
        </table>
        <button type="submit" class="btn btn-primary">Cập nhật giỏ hàng</button>
    </form>
    <p><strong>Tổng cộng:</strong> @Model.Sum(x => x.Total).ToString("C", new System.Globalization.CultureInfo("vi-VN"))</p>
    <a href="Cart/ThongTinThanhToan" class="btn btn-success">Thanh toán</a>
</div>
